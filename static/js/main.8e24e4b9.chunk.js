(this["webpackJsonparanwaolu_futurex-digital_technical_interview"]=this["webpackJsonparanwaolu_futurex-digital_technical_interview"]||[]).push([[0],{37:function(t,n,e){},56:function(t,n,e){"use strict";e.r(n);var r=e(0),i=e(1),c=e.n(i),o=e(26),a=e.n(o),u=(e(37),e(4)),s=e(2),d=e(7),l=e.n(d),f=e(3),p=Object(i.createContext)(),x=function(t){var n=Object(i.useState)({loading:!1,products:null}),e=Object(u.a)(n,2),c=e[0],o=e[1];return Object(i.useEffect)((function(){o({loading:!0});l.a.get("https://fakestoreapi.com/products").then((function(t){o({loading:!1,products:t.data})}))}),[]),Object(r.jsx)(p.Provider,{value:[c,o],children:t.children})},j=e(10),b=e(15),h=function(){var t=JSON.parse(localStorage.getItem("cart")||"[]"),n=0;if(t.length>0){var e=Object(b.a)(t);return e.forEach((function(t){n+=t.price*t.quantity})),{cartItems:e,cartTotal:n}}return{cartItems:[],cartTotal:n}},g=function(){localStorage.removeItem("cart")};function O(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: center;\n\ttext-align: center;\n\toutline: none;\n\tmargin: ",";\n\tpadding: 18px 0px;\n\tbackground: #03adfc;\n\ttransition: all 0.4s ease-in-out;\n\tcolor: ",";\n\tfont-family: sans-serif;\n\tfont-size: ",";\n\tword-spacing: 1px;\n\tborder: 1px solid #03adfc;\n\tborder-radius: 4px;\n\twidth: 180px;\n\n\t&:focus,\n\t&:hover {\n\t\tcursor: pointer;\n\t\tbackground-color: #0c7bc4;\n\t\tborder: 1px solid #0c7bc4;\n\t}\n"]);return O=function(){return t},t}function v(){var t=Object(s.a)(["\n\tfont-size: 16px;\n"]);return v=function(){return t},t}function m(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-size: 18px;\n\tcolor: grey;\n\tmargin: 20px 0;\n"]);return m=function(){return t},t}function y(){var t=Object(s.a)(["\n\tdisplay: flex;\n\twidth: ",";\n\theight: 140px;\n"]);return y=function(){return t},t}function w(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\t// flex-wrap: wrap;\n\twidth: 30%;\n\tjustify-content: space-between;\n\talign-items: center;\n\t// margin: 60px;\n\t// flex-basis: 33.3333%;\n\tpadding: 100px 10px;\n\tflex: 1 1 auto;\n\tbackground-color: white;\n\n\t@media only screen and (max-width: 768px) {\n\t\twidth: 40%;\n\t}\n"]);return w=function(){return t},t}var k=f.a.div(w()),S=f.a.img.attrs((function(t){return{src:t.src}}))(y(),(function(t){return t.width?t.width:"140px"})),C=f.a.div(m()),I=f.a.p(v()),z=f.a.button(O(),(function(t){return t.margin?t.margin:"0px"}),(function(t){return t.color?t.color:"white"}),(function(t){return t.fontSize?t.fontSize:"14px"})),q=function(t){var n=t.product,e=t.toggle,i=function(t){!function(t){var n=JSON.parse(localStorage.getItem("cart")||"[]");if(n.some((function(n){return n.id===t.id}))){var e=n.find((function(n){return n.id===t.id}));e.quantity>=10?e.quantity=e.quantity:e.quantity+=1}else n=[].concat(Object(b.a)(n),[Object(j.a)(Object(j.a)({},t),{},{quantity:1})]);localStorage.setItem("cart",JSON.stringify(n))}(t),e()};return Object(r.jsxs)(k,{children:[Object(r.jsx)(S,{src:n.image}),Object(r.jsxs)(C,{children:[Object(r.jsx)(I,{children:n.title}),"From $",n.price]}),Object(r.jsx)(z,{onClick:function(){i(n)},children:"Add to Cart"})]},n.id)};function J(){var t=Object(s.a)(["\n\t// width: 100vw;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tjustify-content: space-between;\n\talign-items: left;\n\tmargin: 20px;\n"]);return J=function(){return t},t}var N=f.a.div(J()),P=function(t){var n=t.toggle,e=Object(i.useContext)(p),c=Object(u.a)(e,2),o=c[0];c[1];return Object(r.jsx)(N,{children:o.products&&o.products.map((function(t){return Object(r.jsx)(q,{product:t,toggle:n},t.id)}))})},T=e(6),E=e.n(T),_=e(9),R=e(30);function A(t){var n=c.a.useState(!1),e=Object(u.a)(n,2),i=e[0],o=e[1],a=c.a.useState(null),s=Object(u.a)(a,2),d=s[0],l=(s[1],c.a.useRef()),f=t.cart;return console.log(f),c.a.useEffect((function(){window.paypal.Buttons({createOrder:function(t,n){return n.order.create({intent:"CAPTURE",purchase_units:[{description:"Your description",amount:{currency_code:"USD",value:f.cartTotal}}]})},onApprove:function(){var t=Object(_.a)(E.a.mark((function t(n,e){var r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.order.capture();case 2:r=t.sent,o(!0),console.log(r);case 5:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),onError:function(t){console.error(t)}}).render(l.current)}),[]),i?Object(r.jsx)("div",{children:"Payment successful.!"}):d?Object(r.jsx)("div",{children:"Error Occurred in processing payment.! Please try again."}):Object(r.jsxs)("div",{style:{zIndex:"200",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"80px, 0px"},children:[Object(r.jsxs)("h4",{children:["Total Amount in USD : ",f.cartTotal]}),Object(r.jsx)("div",{ref:l})]})}function H(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n\tcolor: grey;\n\n\t&:focus,\n\t&:hover {\n\t\tcursor: pointer;\n\t\tcolor: black;\n\t}\n"]);return H=function(){return t},t}function D(){var t=Object(s.a)(["\n\tcolor: grey;\n\tfont-size: 18px;\n\tpadding: 5px;\n"]);return D=function(){return t},t}function U(){var t=Object(s.a)(["\n\tfont-weight: bold;\n\n\t&:focus,\n\t&:hover {\n\t\tcursor: pointer;\n\t\tcolor: red;\n\t}\n"]);return U=function(){return t},t}function X(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\tborder: 1px solid grey;\n\tborder-radius: 3px;\n\twidth: 60px;\n\theight: 22px;\n\tpadding: 7px;\n"]);return X=function(){return t},t}function Y(){var t=Object(s.a)(["\n\tfont-size: 16px;\n"]);return Y=function(){return t},t}function B(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\talign-items: left;\n\tfont-size: 12px;\n\tcolor: #747d7a;\n\tmargin: 20px 0;\n\twidth: 180px;\n\t// height: auto;\n\t// background-color: red;\n"]);return B=function(){return t},t}function W(){var t=Object(s.a)(["\n\tdisplay: flex;\n\twidth: ",";\n\theight: 40px;\n"]);return W=function(){return t},t}function L(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t// flex-wrap: wrap;\n\twidth: 450px;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin: 20px;\n\tpadding: 10px 20px;\n\tbackground-color: white;\n"]);return L=function(){return t},t}function M(){var t=Object(s.a)(["\n\tpadding: 30px;\n\tfont-size: 20px;\n\tcolor: grey;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: 80px 0px;\n"]);return M=function(){return t},t}function $(){var t=Object(s.a)(["\n\tfont-size: 16px;\n\tfont-weight: 500;\n\tcolor: white;\n\tborder: 1px solid ",";\n\tborder-radius: 4px;\n\tmargin: 20px 0px;\n\tpadding: 15px;\n\tbackground-color: ",";\n\t// width: 100px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: 10px 0px;\n\n\t&:focus,\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]);return $=function(){return t},t}function F(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\twidth: 100%;\n\tfont-size: 20px;\n\tfont-weight: 500;\n\t// margin: 30px 0px;\n\tborder-top: 2px solid grey;\n\t// border-bottom: 2px solid grey;\n"]);return F=function(){return t},t}function G(){var t=Object(s.a)(["\n\tfont-size: 16px;\n\tfont-weight: 500;\n\tcolor: grey;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n"]);return G=function(){return t},t}function Z(){var t=Object(s.a)(["\n\tfont-size: 16px;\n\tfont-weight: 500;\n\tcolor: ",";\n\tborder: 1px solid grey;\n\tborder-radius: 4px;\n\tmargin: 20px 0px;\n\tpadding: 10px;\n\tbackground-color: teal;\n\twidth: 100px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\t&:focus,\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]);return Z=function(){return t},t}function V(){var t=Object(s.a)(["\n\tfont-size: 16px;\n\tfont-weight: 500;\n\tcolor: grey;\n\tborder: 1px solid grey;\n\tborder-radius: 15px;\n\tmargin: 20px 0px;\n\n\t&:focus,\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]);return V=function(){return t},t}function K(){var t=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 40%;\n\tpadding: 30px;\n\tbackground-color: #f2f2ef;\n\theight: 100vh;\n\tz-index: 20;\n\tjustify-content: flex-end;\n\talign-items: space-between;\n\tposition: fixed;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\ttop: 0;\n\tright: 0;\n\n\t@media only screen and (max-width: 768px) {\n\t\twidth: 80%;\n\t}\n"]);return K=function(){return t},t}function Q(){var t=Object(s.a)(["\n\tz-index: 10;\n\tposition: fixed;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n\t// background-color: rgba(219, 219, 217, 0.3);\n"]);return Q=function(){return t},t}var tt=f.a.div(Q()),nt=f.a.div(K()),et=f.a.button(V()),rt=f.a.div(Z(),(function(t){return t.color?t.color:"white"})),it=f.a.div(G()),ct=f.a.div(F()),ot=f.a.div($(),(function(t){return t.color?t.color:"#6b73f3"}),(function(t){return t.color?t.color:"#6b73f3"})),at=f.a.div(M()),ut=f.a.div(L()),st=f.a.img.attrs((function(t){return{src:t.src}}))(W(),(function(t){return t.width?t.width:"40px"})),dt=f.a.div(B()),lt=f.a.p(Y()),ft=f.a.div(X()),pt=f.a.a(U()),xt=f.a.div(D()),jt=f.a.a(H()),bt=function(t){var n=t.cartItem,e=t.handleRemove,c=t.handleCartChange,o=Object(i.useState)(n.quantity),a=Object(u.a)(o,2),s=a[0],d=a[1];return Object(r.jsxs)(ut,{children:[Object(r.jsxs)(dt,{children:[Object(r.jsx)(lt,{children:n.title}),Object(r.jsxs)(ft,{children:[Object(r.jsx)(pt,{onClick:function(){!function(t){var n=JSON.parse(localStorage.getItem("cart")||"[]");if(n.some((function(n){return n.id===t.id}))){var e=n.find((function(n){return n.id===t.id}));e.quantity>0?e.quantity-=1:e.quantity=0}localStorage.setItem("cart",JSON.stringify(n))}(n),s>0?d(s-1):s=0,c()},children:"-"}),Object(r.jsx)("p",{children:s}),Object(r.jsx)(pt,{onClick:function(){!function(t){var n=JSON.parse(localStorage.getItem("cart")||"[]");if(n.some((function(n){return n.id===t.id}))){var e=n.find((function(n){return n.id===t.id}));e.quantity>=10?e.quantity=e.quantity:e.quantity+=1}localStorage.setItem("cart",JSON.stringify(n))}(n),s<10&&d(s+1),c()},children:"+"})]})]}),Object(r.jsxs)(xt,{children:["$",n.price]}),Object(r.jsx)(st,{src:n.image}),Object(r.jsx)(jt,{onClick:function(){e()},children:"\xd7"})]},n.id)},ht=Object(R.a)("pk_test_51HqghxIDkkROPMyohqSnHEPPzXNCggkxCjFz533IqpYwWbCR9CGkmG0VAaUrIO2j5XHHJ9PeHZ4BahMvzvUWX1p6006ZsXDh2X"),gt=function(t){var n=t.isShown,e=t.hide,c=Object(i.useState)([]),o=Object(u.a)(c,2),a=o[0],s=o[1],d=Object(i.useState)(!1),f=Object(u.a)(d,2),p=f[0],x=f[1];Object(i.useEffect)((function(){s(h())}),[n]);var j=function(){s(h())},b=function(){var t=Object(_.a)(E.a.mark((function t(n){var e,r,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ht;case 2:return e=t.sent,"https://interview-express-backend.herokuapp.com/create-checkout-session",t.next=6,l.a.post("https://interview-express-backend.herokuapp.com/create-checkout-session",n);case 6:return r=t.sent,t.next=9,r.data;case 9:return i=t.sent,g(),alert("Wait! This takes a few seconds..."),t.next=14,e.redirectToCheckout({sessionId:i.id});case 14:t.sent.error;case 16:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return n?Object(r.jsx)(tt,{children:Object(r.jsx)(nt,{style:n?{display:"block"}:"",children:!0===p?Object(r.jsxs)("div",{children:[Object(r.jsxs)(it,{children:[Object(r.jsxs)(et,{onClick:function(){x(!1),e()},children:[" ","\xd7"]}),Object(r.jsx)("p",{children:"Your Cart"})]}),Object(r.jsx)(A,{cart:a})]}):Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{children:[Object(r.jsxs)(it,{children:[Object(r.jsx)(et,{onClick:e,children:"\xd7"}),Object(r.jsx)("p",{children:"Your Cart"})]}),a&&0!==a.cartItems.length&&Object(r.jsx)(rt,{onClick:function(){g(),j()},children:"Clear cart"})]}),Object(r.jsxs)("div",{children:[a&&0!==a.cartItems.length&&a.cartItems.map((function(t){return Object(r.jsx)(bt,{cartItem:t,handleRemove:function(){!function(t){var n=JSON.parse(localStorage.getItem("cart")||"[]");if(n.some((function(n){return n.id===t.id}))){var e=n.findIndex((function(n){return n.id===t.id}));n.splice(e,1),localStorage.setItem("cart",JSON.stringify(n))}}(t),j()},handleCartChange:j},t.id)})),a&&0===a.cartItems.length&&Object(r.jsx)(at,{children:"Your cart is empty"})]}),Object(r.jsxs)("div",{children:[a&&0!==a.cartItems.length&&Object(r.jsxs)("div",{children:[Object(r.jsxs)(ct,{children:[Object(r.jsx)("p",{children:"Total: "}),Object(r.jsxs)("p",{children:["$",a.cartTotal]})]}),Object(r.jsx)(ot,{onClick:function(){b(a)},children:"Checkout with Stripe"}),Object(r.jsx)(ot,{color:"#0070ba",style:{marginBottom:"40px"},onClick:function(){x(!0)},children:"Checkout with Paypal"})]}),0===a.cartItems.length&&Object(r.jsx)("div",{})]})]})})}):null},Ot=e(31);function vt(){var t=Object(s.a)(["\n\tfont-size: 20px;\n\tcolor: #7a7a7a;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-itmes: center;\n\tmargin: 80px 0px;\n"]);return vt=function(){return t},t}var mt=f.a.div(vt()),yt=function(t){return function(n){var e=n.isLoading,i=Object(Ot.a)(n,["isLoading"]);return e?Object(r.jsx)(mt,{children:"...fetching products..."}):Object(r.jsx)(t,Object(j.a)({},i))}},wt=function(){var t=Object(i.useState)(!1),n=Object(u.a)(t,2),e=n[0],r=n[1];return{isShown:e,toggle:function(){r(!e)}}};function kt(){var t=Object(s.a)(["\n\tfont-size: 16px;\n\tcolor: #7a7a7a;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin: 30px;\n\n\t&:hover {\n\t\tcursor: pointer;\n\t}\n"]);return kt=function(){return t},t}var St=f.a.a(kt()),Ct=function(){var t=wt(),n=t.isShown,e=t.toggle,c=yt(P),o=Object(i.useState)({loading:!1,products:null}),a=Object(u.a)(o,2),s=a[0],d=a[1];return Object(i.useEffect)((function(){d({loading:!0});l.a.get("https://fakestoreapi.com/products").then((function(t){d({loading:!1,products:t.data})}))}),[d]),Object(r.jsxs)(x,{children:[s.products&&Object(r.jsx)(St,{onClick:function(){e()},children:"SHOW CART"}),Object(r.jsx)(c,{isLoading:s.loading,toggle:e}),Object(r.jsx)(gt,{isShown:n,hide:e})]})};a.a.render(Object(r.jsxs)(c.a.StrictMode,{children:[Object(r.jsx)("div",{children:Object(r.jsx)("h2",{children:"Products Page (Nav would go here...)"})}),Object(r.jsx)(Ct,{})]}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.8e24e4b9.chunk.js.map